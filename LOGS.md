# üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –±–æ—Ç–∞

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–æ—Å–º–æ—Ç—Ä—É –ª–æ–≥–æ–≤ –±–æ—Ç–∞ –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö —Ä–∞–±–æ—Ç—ã.

## üöÄ –ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ PM2

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
# –í—Å–µ –ª–æ–≥–∏ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ + –æ—à–∏–±–∫–∏)
pm2 logs qodeq-finder

# –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
pm2 logs qodeq-finder --lines 100

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
pm2 logs qodeq-finder --err

# –¢–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥
pm2 logs qodeq-finder --out

# –õ–æ–≥–∏ —Å –æ—á–∏—Å—Ç–∫–æ–π —ç–∫—Ä–∞–Ω–∞
pm2 logs qodeq-finder --lines 0
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `logs/`:

```bash
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥
tail -f logs/pm2-out.log

# –û—à–∏–±–∫–∏
tail -f logs/pm2-error.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
tail -n 50 logs/pm2-out.log

# –ü–æ–∏—Å–∫ –≤ –ª–æ–≥–∞—Ö
grep "ERROR" logs/pm2-error.log
grep "–ù–∞–π–¥–µ–Ω–æ" logs/pm2-out.log
```

### –î—Ä—É–≥–∏–µ –ø–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã PM2

```bash
# –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞
pm2 status qodeq-finder

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (CPU, –ø–∞–º—è—Ç—å, –ª–æ–≥–∏)
pm2 monit

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ—Ü–µ—Å—Å–µ
pm2 show qodeq-finder

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤
pm2 flush qodeq-finder
```

## üíª –ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞–ø—Ä—è–º—É—é

### –ó–∞–ø—É—Å–∫ —Å –≤—ã–≤–æ–¥–æ–º –≤ –∫–æ–Ω—Å–æ–ª—å

```bash
# –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫ (–ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å)
node bot.js

# –° –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤ —Ñ–∞–π–ª
node bot.js > logs/bot.log 2>&1

# –° –≤—ã–≤–æ–¥–æ–º –∏ –≤ –∫–æ–Ω—Å–æ–ª—å, –∏ –≤ —Ñ–∞–π–ª
node bot.js 2>&1 | tee logs/bot.log
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f logs/bot.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
tail -n 100 logs/bot.log

# –ü–æ–∏—Å–∫
grep "ERROR" logs/bot.log
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤

```
qodeq_finder/
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îú‚îÄ‚îÄ pm2-out.log      # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ (PM2)
‚îÇ   ‚îú‚îÄ‚îÄ pm2-error.log    # –û—à–∏–±–∫–∏ (PM2)
‚îÇ   ‚îî‚îÄ‚îÄ bot.log          # –õ–æ–≥–∏ –ø—Ä–∏ –ø—Ä—è–º–æ–º –∑–∞–ø—É—Å–∫–µ
‚îî‚îÄ‚îÄ ...
```

## üîç –ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö

### –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```
‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω: @your_bot_name
‚úÖ Telegram –∫–ª–∏–µ–Ω—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
‚úÖ –ù–∞–π–¥–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ #123 –≤ "Channel Name"
‚úÖ –ü–æ–∏—Å–∫ –∑–∞–≤–µ—Ä—à–µ–Ω. –ù–∞–π–¥–µ–Ω–æ: 5 —Å–æ–æ–±—â–µ–Ω–∏–π
```

### –û—à–∏–±–∫–∏

```
‚ùå BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ .env!
‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è entity –¥–ª—è -1001234567890
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
```

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

```
üîç –ù–∞—á–∏–Ω–∞—é –ø–æ–∏—Å–∫ –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∫–∞–Ω–∞–ª–∞...
üì± –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ –∫–∞–Ω–∞–ª—É: Channel Name
üîó –ù–∞–π–¥–µ–Ω —Ç–µ–∫—Å—Ç —Å—Å—ã–ª–∫–∏: "—Ç–µ–∫—Å—Ç"
üì¨ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
```

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–æ–≥–∞–º–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ—à–∏–±–æ–∫

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 20 –æ—à–∏–±–æ–∫
tail -n 20 logs/pm2-error.log

# –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫
grep -i error logs/pm2-error.log

# –û—à–∏–±–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
grep "$(date +%Y-%m-%d)" logs/pm2-error.log
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
# –í—Å–µ –ª–æ–≥–∏ PM2
pm2 logs qodeq-finder --lines 0

# –¢–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
tail -f logs/pm2-out.log | grep "–ù–∞–π–¥–µ–Ω–æ"

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫
tail -f logs/pm2-error.log
```

### –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

```bash
# –ü–æ–¥—Å—á–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
grep -c "–ù–∞–π–¥–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ" logs/pm2-out.log

# –ü–æ–∏—Å–∫ –ø–æ –∫–∞–Ω–∞–ª—É
grep "–∫–∞–Ω–∞–ª -1001234567890" logs/pm2-out.log

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å
grep "$(date +%Y-%m-%d)" logs/pm2-out.log | wc -l
```

## üìä PM2 Dashboard (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

–î–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PM2 Plus:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2 Plus (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
pm2 link <secret> <public>

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
pm2 web
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:9615
```

## üîÑ –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤

PM2 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∞–º–∏. –î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ—Ç–∞—Ü–∏–∏:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pm2-logrotate (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
pm2 install pm2-logrotate

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞
pm2 set pm2-logrotate:max_size 10M
pm2 set pm2-logrotate:retain 7
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –õ–æ–≥–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la logs/

# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
mkdir -p logs
chmod 755 logs
```

### –õ–æ–≥–∏ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ

```bash
# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ PM2
pm2 flush qodeq-finder

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
> logs/pm2-out.log
> logs/pm2-error.log
```

### –ù–µ –≤–∏–¥–Ω–æ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω
pm2 status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–≥–∏
pm2 logs qodeq-finder --lines 0
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∏—Å–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
pm2 logs qodeq-finder --lines 0 | grep -E "(–ù–∞—á–∏–Ω–∞—é –ø–æ–∏—Å–∫|–ù–∞–π–¥–µ–Ω–æ|–∑–∞–≤–µ—Ä—à–µ–Ω)"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–ª—å–∫–æ –æ—à–∏–±–æ–∫

```bash
pm2 logs qodeq-finder --err --lines 50
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –≤ —Ñ–∞–π–ª

```bash
pm2 logs qodeq-finder --lines 1000 > logs/backup-$(date +%Y%m%d).log
```

### –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è

```bash
# –ü–æ–∏—Å–∫ –ø–æ –∫–∞–Ω–∞–ª—É
grep "–∫–∞–Ω–∞–ª -1001234567890" logs/pm2-out.log

# –ü–æ–∏—Å–∫ –ø–æ —Å–ª–æ–≤—É
grep "javascript" logs/pm2-out.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
grep "$(date +%Y-%m-%d)" logs/pm2-error.log
```

## ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ (—Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)
pm2 logs qodeq-finder

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
pm2 logs qodeq-finder --lines 50

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
pm2 logs qodeq-finder --err

# –§–∞–π–ª—ã –ª–æ–≥–æ–≤
tail -f logs/pm2-out.log
tail -f logs/pm2-error.log

# –°—Ç–∞—Ç—É—Å
pm2 status

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
pm2 monit
```

